<div class="min-h-screen flex items-center justify-center p-4">
    <div class="bg-white/90 backdrop-blur-xl rounded-3xl p-8 max-w-md w-full shadow-2xl border border-white/50">
        <div class="text-center mb-8">
            <!-- Логотип -->
            <div class="mb-4 flex justify-center">
                <img src="/static/logo.png" alt="XP Life Tracker Logo" class="h-24 w-24 md:h-32 md:w-32 object-contain drop-shadow-lg" onerror="this.style.display='none'">
            </div>
            <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-2">
                XP Life Tracker
            </h1>
            <p class="text-gray-600">Трекер активности и опыта</p>
        </div>

        <!-- Табы Login/Register -->
        <div class="flex mb-6 bg-gray-100 rounded-xl p-1">
            <button id="login-tab" onclick="showLoginForm()" class="flex-1 py-3 px-4 rounded-lg font-medium transition-all bg-white shadow text-indigo-600">
                Вход
            </button>
            <button id="register-tab" onclick="showRegisterForm()" class="flex-1 py-3 px-4 rounded-lg font-medium transition-all text-gray-500 hover:text-gray-700">
                Регистрация
            </button>
        </div>

        <!-- Login Form -->
        <form id="login-form" class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input type="email" id="login-email" placeholder="your@email.com"
                       class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Пароль</label>
                <input type="password" id="login-password" placeholder="••••••••"
                       class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required>
            </div>
            <button type="submit" class="w-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white py-4 px-6 rounded-xl font-bold transition-all shadow-lg hover:shadow-xl">
                <i class="fas fa-sign-in-alt mr-2"></i>Войти
            </button>
            <p id="login-error" class="text-red-500 text-sm text-center hidden"></p>
            <button type="button" onclick="showForgotPassword()" class="w-full text-sm text-gray-500 hover:text-indigo-600 mt-2 transition-colors">
                Забыли пароль?
            </button>
        </form>

        <!-- Register Form (hidden by default) -->
        <form id="register-form" class="space-y-4 hidden">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input type="email" id="register-email" placeholder="your@email.com"
                       class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Имя пользователя</label>
                <input type="text" id="register-username" placeholder="username"
                       class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Пароль</label>
                <input type="password" id="register-password" placeholder="Минимум 6 символов"
                       class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required minlength="6">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Подтвердите пароль</label>
                <input type="password" id="register-password-confirm" placeholder="Повторите пароль"
                       class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required>
            </div>
            <button type="submit" class="w-full bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white py-4 px-6 rounded-xl font-bold transition-all shadow-lg hover:shadow-xl">
                <i class="fas fa-user-plus mr-2"></i>Зарегистрироваться
            </button>
            <p id="register-error" class="text-red-500 text-sm text-center hidden"></p>
            <p id="register-success" class="text-green-500 text-sm text-center hidden"></p>
        </form>

        <!-- Forgot Password Modal -->
        <div id="forgot-password-modal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4" onclick="if(event.target === this) closeForgotPassword()">
            <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6" onclick="event.stopPropagation()">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold text-gray-800">Восстановление пароля</h3>
                    <button onclick="closeForgotPassword()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                </div>

                <!-- Step 1: Request Code -->
                <div id="forgot-step1" class="space-y-4">
                    <p class="text-gray-600">Введите ваш email для получения кода восстановления</p>
                    <input type="email" id="forgot-email" placeholder="your@email.com"
                           class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required>
                    <button onclick="requestResetCode()" class="w-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white py-4 px-6 rounded-xl font-bold transition-all">
                        Получить код
                    </button>
                    <p id="forgot-error1" class="text-red-500 text-sm text-center hidden"></p>
                </div>

                <!-- Step 2: Enter Code and New Password -->
                <div id="forgot-step2" class="space-y-4 hidden">
                    <p class="text-gray-600">Введите код и новый пароль</p>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Код из email</label>
                        <input type="text" id="forgot-code" placeholder="000000" maxlength="6"
                               class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all text-center text-2xl tracking-widest" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Новый пароль</label>
                        <input type="password" id="forgot-new-password" placeholder="Минимум 6 символов"
                               class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required minlength="6">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Подтвердите пароль</label>
                        <input type="password" id="forgot-confirm-password" placeholder="Повторите пароль"
                               class="w-full p-4 border-2 border-gray-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200 transition-all" required>
                    </div>
                    <button onclick="resetPassword()" class="w-full bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white py-4 px-6 rounded-xl font-bold transition-all">
                        Сбросить пароль
                    </button>
                    <p id="forgot-error2" class="text-red-500 text-sm text-center hidden"></p>
                    <p id="forgot-success" class="text-green-500 text-sm text-center hidden"></p>
                </div>
            </div>
        </div>
    </div>
</div>
