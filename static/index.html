<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='70' fill='%23333' font-weight='bold'%3EüéØ‚è±Ô∏è%3C/text%3E%3C/svg%3E">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css?v=54">
    <title>HP Life Tracker</title>
    <style>
        /* –°–∫—Ä—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞ */
        #auth-section, #app-section {
            visibility: hidden;
        }
        /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Å–∫—Ä—ã—Ç—ã–µ —Å–µ–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–∫—Ä—ã—Ç—ã –∏ –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ */
        #auth-section.hidden {
            display: none !important;
            visibility: visible !important;
            height: 0 !important;
            overflow: hidden !important;
        }
        #app-section.hidden {
            display: none !important;
            visibility: hidden !important;
            height: 0 !important;
            overflow: hidden !important;
            position: absolute !important;
            left: -9999px !important;
        }
        /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ footer —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å app-section */
        #app-section.hidden #footer-container {
            display: none !important;
        }
        /* –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ body –Ω–µ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ app-section —Å–∫—Ä—ã—Ç */
        body:has(#app-section.hidden) {
            overflow-x: hidden;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 min-h-screen">
    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
        function applyAuthCheck() {
            try {
                const token = localStorage.getItem('token');
                const authSection = document.getElementById('auth-section');
                const appSection = document.getElementById('app-section');
                
                if (token) {
                    // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–∫–µ–Ω, —Å–∫—Ä—ã–≤–∞–µ–º auth-section –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º app-section
                    if (authSection) {
                        authSection.classList.add('hidden');
                        authSection.style.display = 'none';
                        authSection.style.visibility = 'visible';
                        authSection.style.height = '0';
                        authSection.style.overflow = 'hidden';
                    }
                    if (appSection) {
                        appSection.classList.remove('hidden');
                        appSection.style.display = '';
                        appSection.style.visibility = 'visible';
                        appSection.style.height = '';
                        appSection.style.overflow = '';
                        appSection.style.position = '';
                        appSection.style.left = '';
                    }
                } else {
                    // –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º auth-section –∏ —Å–∫—Ä—ã–≤–∞–µ–º app-section
                    if (authSection) {
                        authSection.classList.remove('hidden');
                        authSection.style.display = '';
                        authSection.style.visibility = 'visible';
                        authSection.style.height = '';
                        authSection.style.overflow = '';
                    }
                    if (appSection) {
                        appSection.classList.add('hidden');
                        appSection.style.display = 'none';
                        appSection.style.visibility = 'visible';
                        appSection.style.height = '0';
                        appSection.style.overflow = 'hidden';
                        appSection.style.position = 'absolute';
                        appSection.style.left = '-9999px';
                    }
                }
                
                // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∫—Ä–æ–ª–ª –≤–Ω–∏–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
                window.scrollTo(0, 0);
                document.documentElement.scrollTop = 0;
                document.body.scrollTop = 0;
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
                setTimeout(() => {
                    window.scrollTo(0, 0);
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                }, 50);
            } catch(e) {
                console.error('Auth check error:', e);
            }
        }
    </script>

    <!-- AUTH SECTION Component Container -->
    <div id="auth-section"></div>

    <!-- MAIN APP (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω) -->
    <div id="app-section" class="hidden">
        <!-- Header Component Container -->
        <div id="header-container"></div>

        <!-- Content with top padding for fixed header -->
        <div class="container mx-auto px-3 md:px-4 py-4 md:py-8 max-w-6xl pt-20 md:pt-24">
            <!-- Admin Panel (hidden by default) -->
            <!-- Admin Panel Component Container -->
            <div id="section-admin-container"></div>

            <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ components.js -->

            <!-- Child Stats Modal -->
            <div id="child-stats-modal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4" onclick="if(event.target === this) closeChildStats()">
                <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto" onclick="event.stopPropagation()">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-gray-800" id="child-stats-name">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <button onclick="closeChildStats()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
                    </div>
                    <div id="child-stats-content">
                        <div class="text-center text-gray-400 py-8">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                </div>
            </div>

            <!-- –í–∏–¥–∂–µ—Ç—ã: –°–µ–≥–æ–¥–Ω—è + –ù–µ–¥–µ–ª—è + –ü—Ä–æ–≥—Ä–µ—Å—Å -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4 mb-4 md:mb-6">
                <!-- –í–∏–¥–∂–µ—Ç –°–µ–≥–æ–¥–Ω—è -->
                <div id="widget-today-container"></div>

                <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
                <div id="widget-calendar-container"></div>

                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è -->
                <div id="widget-progress-container"></div>
            </div>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç: –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ + –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <div class="grid lg:grid-cols-3 gap-4 md:gap-6 mb-4 md:mb-6 lg:items-start">
                <!-- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ Component Container -->
                <div id="section-activities-container" class="lg:col-span-2"></div>

                <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (–ø—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞) -->
                <div class="space-y-3 md:space-y-4">
                    <!-- –í–∏–¥–∂–µ—Ç Streak (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π) -->
                    <div id="widget-streak-container"></div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
                    <div class="bg-white/90 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4 shadow-xl border border-white/50">
                        <div class="flex items-center justify-center gap-1.5 md:gap-2 mb-2 md:mb-3">
                            <i class="fas fa-chart-pie text-blue-600 text-sm md:text-base"></i>
                            <h3 class="text-xs md:text-sm font-bold text-gray-800" data-i18n="category_stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                        </div>
                        <div id="category-stats" class="space-y-2 max-h-[200px] md:max-h-[250px] overflow-y-auto overflow-x-hidden pr-1 md:pr-2" style="scrollbar-width: thin; scrollbar-color: rgba(156, 163, 175, 0.5) transparent;">
                            <div class="text-center text-gray-400 py-2 text-xs">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        </div>
                    </div>

                    <!-- –¶–µ–ª–∏ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π) -->
                    <div class="bg-white/90 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4 shadow-xl border border-white/50">
                        <div class="flex items-center justify-center gap-1.5 md:gap-2 mb-2 md:mb-3">
                            <i class="fas fa-bullseye text-purple-600 text-sm md:text-base"></i>
                            <h3 class="text-xs md:text-sm font-bold text-gray-800" data-i18n="my_goals">–ú–æ–∏ —Ü–µ–ª–∏</h3>
                            <button onclick="showCreateGoalModal()" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white w-5 h-5 rounded-lg transition-all text-xs flex items-center justify-center" title="–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å">
                                <i class="fas fa-plus text-[10px]"></i>
                            </button>
                        </div>
                        <div id="goals-list" class="space-y-1.5 md:space-y-2 max-h-[250px] md:max-h-[300px] overflow-y-auto overflow-x-hidden pr-1 md:pr-2" style="scrollbar-width: thin; scrollbar-color: rgba(156, 163, 175, 0.5) transparent;">
                            <div class="text-center text-gray-400 py-2 text-xs">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        </div>
                    </div>

                    <!-- –£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π) -->
                    <div class="bg-gradient-to-br from-green-50 to-emerald-50 backdrop-blur rounded-xl md:rounded-2xl p-3 md:p-4 shadow-xl border-2 border-green-200">
                        <div class="flex items-center justify-center gap-2 mb-2 md:mb-3">
                            <i class="fas fa-lightbulb text-green-600 text-sm md:text-base"></i>
                            <h3 class="text-xs md:text-sm font-bold text-gray-800" data-i18n="smart_recommendations">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h3>
                        </div>
                        <div class="flex flex-col">
                            <div id="recommendations-list-visible" class="space-y-2"></div>
                            <div id="recommendations-list-hidden" class="space-y-2 hidden"></div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- –ù–∞–≥—Ä–∞–¥—ã –∏ –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–æ–±—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä) -->
            <div class="grid lg:grid-cols-3 gap-4 md:gap-6 mb-4 md:mb-6 lg:items-start">
                <!-- –ù–∞–≥—Ä–∞–¥—ã Component Container -->
                <div id="section-rewards-container" class="lg:col-span-2"></div>

                <!-- –ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π Component Container -->
                <div id="section-history-container"></div>
                </div>
            </div>

            <!-- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: –ì—Ä—É–ø–ø—ã, –õ–∏–¥–µ—Ä–±–æ—Ä–¥—ã, –ß–µ–ª–ª–µ–Ω–¥–∂–∏, –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
            <div id="social" class="grid lg:grid-cols-2 gap-4 md:gap-6 mb-4 md:mb-6 lg:items-start scroll-mt-20 md:scroll-mt-24">
                <!-- –ì—Ä—É–ø–ø—ã Component Container -->
                <div id="section-groups-container"></div>

                <!-- –õ–∏–¥–µ—Ä–±–æ—Ä–¥ Component Container -->
                <div id="section-leaderboard-container"></div>

                <!-- –ß–µ–ª–ª–µ–Ω–¥–∂–∏ Component Container -->
                <div id="section-challenges-container"></div>

                <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è Component Container -->
                <div id="section-achievements-container"></div>
            </div>
        </div>

        <!-- Footer Component Container -->
        <div id="footer-container"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ components.js -->

    <!-- Bottom Navigation Component Container -->
    <div id="bottom-navigation-container"></div>

    <!-- Component Loader -->
    <script src="js/components.js"></script>
    <!-- JavaScript Modules (–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ) -->
    <script src="js/app_utils.js"></script>
    <script src="js/app_auth.js"></script>
    <!-- Main App Script (–æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –µ—â–µ –Ω–µ –º–æ–¥—É–ª—è—Ä–∏–∑–æ–≤–∞–Ω) -->
    <script src="js/app.js?v=47"></script>
    <!-- Social Features -->
    <script src="js/app_social.js"></script>
    <!-- Load Components -->
    <script>
        // –§–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ app-section
        let appComponentsLoaded = false;
        
        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ app-section
        async function loadAppComponents() {
            if (appComponentsLoaded) return;
            
            const appSection = document.getElementById('app-section');
            if (!appSection) return;
            
            try {
                await loadComponents([
                    { name: 'header', selector: '#header-container' },
                    { name: 'footer', selector: '#footer-container' },
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∏–¥–∂–µ—Ç—ã
                    { name: 'widget-today', selector: '#widget-today-container', path: 'widgets/widget-today' },
                    { name: 'widget-calendar', selector: '#widget-calendar-container', path: 'widgets/widget-calendar' },
                    { name: 'widget-progress', selector: '#widget-progress-container', path: 'widgets/widget-progress' },
                    { name: 'widget-streak', selector: '#widget-streak-container', path: 'widgets/widget-streak' },
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
                    { name: 'section-activities', selector: '#section-activities-container', path: 'sections/section-activities' },
                    { name: 'section-rewards', selector: '#section-rewards-container', path: 'sections/section-rewards' },
                    { name: 'section-history', selector: '#section-history-container', path: 'sections/section-history' },
                    { name: 'section-admin', selector: '#section-admin-container', path: 'sections/section-admin' },
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏
                    { name: 'section-groups', selector: '#section-groups-container', path: 'sections/section-groups' },
                    { name: 'section-leaderboard', selector: '#section-leaderboard-container', path: 'sections/section-leaderboard' },
                    { name: 'section-challenges', selector: '#section-challenges-container', path: 'sections/section-challenges' },
                    { name: 'section-achievements', selector: '#section-achievements-container', path: 'sections/section-achievements' },
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–±–∏–ª—å–Ω—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é
                    { name: 'bottom-navigation', selector: '#bottom-navigation-container', path: 'bottom-navigation' }
                ]);
                appComponentsLoaded = true;
            } catch (error) {
                console.error('Error loading app components:', error);
            }
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
        document.addEventListener('DOMContentLoaded', async () => {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º auth –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
            await loadComponent('auth', '#auth-section');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–æ—Ä–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ü–û–°–õ–ï –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
            if (typeof window.initAuthForms === 'function') {
                window.initAuthForms();
            } else if (typeof initAuthForms === 'function') {
                initAuthForms();
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ü–û–°–õ–ï –∑–∞–≥—Ä—É–∑–∫–∏ auth –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
            applyAuthCheck();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã app-section –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω
            const token = localStorage.getItem('token');
            if (token) {
                await loadAppComponents();
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤—Å–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤ body (–≤—Å–µ–≥–¥–∞, –æ–Ω–∏ —Å–∫—Ä—ã—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
            await loadComponents([
                { name: 'modal-edit-activity', selector: 'body', path: 'modals/modal-edit-activity' },
                { name: 'modal-edit-reward', selector: 'body', path: 'modals/modal-edit-reward' },
                { name: 'modal-create-goal', selector: 'body', path: 'modals/modal-create-goal' },
                { name: 'modal-manual-time', selector: 'body', path: 'modals/modal-manual-time' },
                { name: 'modal-day-details', selector: 'body', path: 'modals/modal-day-details' },
                { name: 'modal-category', selector: 'body', path: 'modals/modal-category' },
                { name: 'modal-telegram-link', selector: 'body', path: 'modals/modal-telegram-link' },
                { name: 'modal-create-group', selector: 'body', path: 'modals/modal-create-group' },
                { name: 'modal-join-group', selector: 'body', path: 'modals/modal-join-group' },
                { name: 'modal-create-challenge', selector: 'body', path: 'modals/modal-create-challenge' }
            ]);
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
            const modalBaseCSS = document.createElement('link');
            modalBaseCSS.rel = 'stylesheet';
            modalBaseCSS.href = '/static/components/modals/modal-base.css';
            document.head.appendChild(modalBaseCSS);
            
            // –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
            setTimeout(() => {
                applyAuthCheck();
            }, 100);
        });
        
        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ app.js
        if (typeof window !== 'undefined') {
            window.loadAppComponents = loadAppComponents;
        }
    </script>
    <script>
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å–∫—Ä–æ–ª–ª –≤–Ω–∏–∑ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤
        (function() {
            // –£–±–∏—Ä–∞–µ–º —è–∫–æ—Ä—å –∏–∑ URL, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
            if (window.location.hash && window.location.hash !== '#') {
                const hash = window.location.hash;
                window.history.replaceState(null, null, window.location.pathname + window.location.search);
            }
            
            // –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤–≤–µ—Ä—Ö—É
            window.scrollTo(0, 0);
            document.documentElement.scrollTop = 0;
            document.body.scrollTop = 0;
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
            setTimeout(() => {
                if (window.scrollY > 0 || document.documentElement.scrollTop > 0) {
                    window.scrollTo(0, 0);
                }
            }, 50);
        })();
    </script>

</body>
</html>
</body>
</html>