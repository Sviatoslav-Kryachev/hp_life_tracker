# Модульная структура JavaScript

## Структура модулей

Проект разбит на модули для улучшения поддерживаемости и читаемости кода.

### Созданные модули:

1. **app_utils.js** ✅
   - Переводы (i18n)
   - Утилиты форматирования
   - Функции работы с языками
   - Уведомления

2. **app_auth.js** (в процессе)
   - Авторизация (login, register, logout)
   - Управление пользователем
   - Telegram linking
   - Проверка прав доступа

3. **app_activities.js** (планируется)
   - Загрузка активностей
   - CRUD операции с активностями
   - Таймеры
   - Фильтры и сортировка
   - Drag & Drop

4. **app_rewards.js** (планируется)
   - Загрузка наград
   - CRUD операции с наградами
   - Покупка наград

5. **app_history.js** (планируется)
   - Загрузка истории
   - Фильтрация по периодам
   - Отображение транзакций

6. **app_wallet.js** (планируется)
   - Кошелек (баланс, уровень)
   - Статистика (сегодня, неделя, месяц)
   - Календарь активности
   - Статистика по категориям

7. **app_goals.js** (планируется)
   - Загрузка целей
   - CRUD операции с целями
   - Отслеживание прогресса

8. **app_categories.js** (планируется)
   - Загрузка категорий
   - CRUD операции с категориями
   - Обновление dropdown'ов

9. **app_social.js** ✅ (уже существует)
   - Группы
   - Лидерборды
   - Челленджи
   - Достижения

## Порядок загрузки модулей

Модули должны загружаться в следующем порядке:

1. `app_utils.js` - базовые утилиты (первым!)
2. `app_auth.js` - авторизация
3. Остальные модули в любом порядке

## Использование

Все функции экспортируются в глобальную область видимости через `window`, поэтому они доступны из других модулей и из HTML.

## Зависимости

- `app_utils.js` не имеет зависимостей
- Все остальные модули зависят от `app_utils.js`
- Некоторые модули могут зависеть друг от друга (например, `app_activities` может использовать функции из `app_categories`)

## Примечания

- Переменные `API_BASE`, `authToken`, `currentUser` должны быть доступны глобально
- Функции, которые используются в HTML (через `onclick`), должны быть в глобальной области видимости
- При разбиении на модули нужно следить за порядком выполнения и зависимостями
